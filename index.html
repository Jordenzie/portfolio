<!doctype html> 
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jordan A. McKenzie - Portfolio</title>

  <link rel="icon" type="image/png" sizes="32x32" href="images/folder-32.png" />

  <!-- ======================
       Embedded CSS (combined)
       ====================== -->
  <style>
    /* ---------- Fonts ---------- */
    @font-face {
      font-family: "Chicago";
      src: url("../fonts/pixChicago.woff2") format("woff2");
      font-weight: normal;
      font-style: normal;
    }

    /* ---------- Global ---------- */
    * {
      font-family: "Chicago", sans-serif !important;
      color: black;
      font-size: 12px;
      font-weight: normal !important;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: none;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: geometricPrecision;
    }

    a { text-decoration: none; }

    /* ---------- Base ---------- */
    body {
      background: #ffffff;
      margin: 0;
      overflow: hidden;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      border: 1px solid #000;
      pointer-events: none;
      z-index: 2000;
    }

    /* ---------- Desktop ---------- */
    .desktop {
      position: absolute;
      top: 38px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    .icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 99px;
      text-align: center;
      cursor: pointer;
      position: absolute;
      user-select: none;
      padding: 6px;
    }

    .icon img {
      width: 66px;
      image-rendering: pixelated;
    }

    .icon span {
      font-size: 7px;
      width: 66px;
      word-wrap: break-word;
    }

    .icon.selected { opacity: 0.75; }

    /* ---------- Taskbar ---------- */
    .taskbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 30px;
      display: flex;
      align-items: center;
      padding: 0 22px;
      box-sizing: border-box;
      z-index: 1000;
      background: #dfdfdf;
      border-top: 1px solid #fff;
      border-bottom: 1px solid #000;
      box-shadow: inset 0 1px 0 #fff, inset 0 -1px 0 #6e6e6e;
    }

    .taskbar::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      height: 1px;
      background: #000;
    }

    .left-group,
    .right-group {
      display: flex;
      align-items: center;
    }

    .right-group { margin-left: auto; }

    /* ---------- Menu Items ---------- */
    .menu-item {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      min-height: 22px;
      padding: 2px 6px;
      background: transparent;
      border: 0;
      outline: none;
      cursor: pointer;
      font: inherit;
      white-space: nowrap;
      line-height: normal;
    }

    .menu-item img {
      display: block;
      width: 16px;
      height: 16px;
      image-rendering: pixelated;
      flex: 0 0 auto;
    }

    .menu-item:hover {
      border-top: 1px solid #fff;
      border-left: 1px solid #fff;
      border-right: 1px solid #6f6f6f;
      border-bottom: 1px solid #6f6f6f;
      background: linear-gradient(#efefef, #dcdcdc);
      padding: 1px 5px;
    }

    .menu-item:active {
      border-top: 1px solid #6f6f6f;
      border-left: 1px solid #6f6f6f;
      border-right: 1px solid #fff;
      border-bottom: 1px solid #fff;
      background: linear-gradient(#dcdcdc, #efefef);
      padding: 1px 5px;
    }

    .menubar-clock {
      font-size: 10px;
      padding: 2px 6px;
      white-space: nowrap;
    }

    /* ---------- Search ---------- */
    .search-bar {
      display: none;
      position: fixed;
      top: 23px;
      right: 6px;
      background: #efefef;
      border: 1px solid #7d7d7d;
      height: 22px;
      align-items: center;
      padding: 0 6px;
      z-index: 1001;
    }

    .search-bar input {
      width: 160px;
      border: none;
      background: transparent;
      outline: none;
    }

    /* ---------- Popup ---------- */
    .popup-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.55);
      z-index: 3001;
    }

    .popup-overlay.show { display: flex; }

    .popup-window {
      width: min(520px, calc(100vw - 40px));
      max-height: calc(100vh - 80px);
      background: #efefef;
      border: 1px solid #000;
      box-shadow: 1px 1px 0 #6e6e6e, 2px 2px 0 #000;
      display: flex;
      flex-direction: column;
      position: fixed;
    }

    .popup-titlebar {
      height: 22px;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 0 6px;
      background: #dfdfdf;
      border-top: 1px solid #fff;
      border-bottom: 1px solid #000;
      box-shadow: inset 0 1px 0 #fff, inset 0 -1px 0 #6e6e6e;
      cursor: move;
    }

    .popup-title {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 10px; /* 2pt smaller title (Loading...) */
    }

    .popup-close {
      width: 14px;
      height: 14px;
      background: #dfdfdf;
      border-top: 1px solid #fff;
      border-left: 1px solid #fff;
      border-right: 1px solid #6f6f6f;
      border-bottom: 1px solid #6f6f6f;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 0;
      flex: 0 0 auto;
    }

    .popup-close::before {
      content: "";
      width: 8px;
      height: 8px;
      background: #000;
      clip-path: polygon(
        0 10%, 10% 0, 50% 40%, 90% 0, 100% 10%, 60% 50%,
        100% 90%, 90% 100%, 50% 60%, 10% 100%, 0 90%, 40% 50%
      );
    }

    .popup-close:active {
      border-top: 1px solid #6f6f6f;
      border-left: 1px solid #6f6f6f;
      border-right: 1px solid #fff;
      border-bottom: 1px solid #fff;
      background: #dcdcdc;
    }

    .popup-body {
      padding: 10px;
      background: #fff;
      overflow: auto;
      flex: 1;
      border-top: 1px solid #6e6e6e;
      box-shadow: inset 0 1px 0 #fff;
    }

    .popup-actions {
      padding: 6px 8px;
      background: #efefef;
      border-top: 1px solid #6e6e6e;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }

    .popup-ok {
      padding: 2px 16px;
      background: #dfdfdf;
      border-top: 1px solid #fff;
      border-left: 1px solid #fff;
      border-right: 1px solid #6f6f6f;
      border-bottom: 1px solid #6f6f6f;
    }

    .popup-ok:active {
      border-top: 1px solid #6f6f6f;
      border-left: 1px solid #6f6f6f;
      border-right: 1px solid #fff;
      border-bottom: 1px solid #fff;
      background: #dcdcdc;
    }

    .popup-caption { display: none !important; }

    .popup-text {
      white-space: pre-wrap;
      font-size: 12px;
      line-height: 1.8;
    }

    .popup-text.align-justify-last-left {
      text-align: justify;
      text-align-last: left;
    }

    .popup-text.align-last-left {
      text-align: justify;
      text-align-last: left;
    }

    .popup-text.align-center {
      text-align: center;
      text-align-last: center;
    }

    .popup-text.role-welcome {
      margin-bottom: 18px;
    }

    /* ---------- Welcome wave animation ---------- */
    .popup-text.role-welcome.wave span {
      display: inline-block;
      animation: welcomeWave 1.6s ease-in-out infinite;
      animation-delay: calc(var(--i) * 0.06s);
      will-change: transform;
    }

    @keyframes welcomeWave {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-4px); }
    }

    .popup-text.role-title {
      text-align: center;
      text-align-last: center;
    }

    .popup-media {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 10px 0;
    }

    .popup-media img {
      image-rendering: pixelated;
      max-width: 100%;
      height: auto;
      border: none;
      box-shadow: none;
      background: transparent;
    }

    .popup-media.size-xs img { max-width: 120px; }
    .popup-media.size-sm img { max-width: 180px; }
    .popup-media.size-md img { max-width: 240px; }
    .popup-media.size-lg img { max-width: 320px; }
    .popup-media.size-xl img { max-width: 420px; }

    @media (max-width: 768px) {
      .taskbar {
        top: auto !important;
        bottom: 0 !important;
        border-top: 1px solid #000000;
        border-bottom: 1px solid #ffffff;
        box-shadow:
          inset 0 -1px 0 #ffffff,
          inset 0 1px 0 #6e6e6e;
      }

      .desktop { top: 10px !important; }

      .search-bar {
        top: auto !important;
        bottom: 34px !important;
      }
    }
  </style>
</head>

<body data-page="home">
  <div class="desktop" id="desktop">
    <a href="pages/j-mac.html" class="icon">
      <img src="images/folder-160.png" alt="Folder" />
      <span>J-Mac</span>
    </a>
  </div>

  <div class="taskbar">
    <div class="left-group">
      <button class="menu-item taskbar-item" id="aboutBtn" type="button" aria-label="About">
        <img src="images/apple folder.png" alt="Apple Folder" class="menubar-folder" />
        <span class="taskbar-label">About</span>
      </button>

      <a class="menu-item taskbar-item" href="mailto:jam@prtf.io">
        <span class="taskbar-label">E-mail</span>
      </a>
    </div>

    <div class="right-group">
      <div class="menubar-clock" id="menubarClock"></div>
      <button class="menu-item taskbar-item" id="findBtn" type="button" aria-label="Find">
        <img src="images/search icon-64.png" alt="Find" class="menubar-search" />
        <span class="taskbar-label">Find</span>
      </button>
    </div>
  </div>

  <div class="search-bar" id="searchBar">
    <input id="searchInput" type="text" placeholder="Find..." />
  </div>

  <div class="popup-overlay" id="popupOverlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="popup-window" id="popupWindow">
      <div class="popup-titlebar" id="popupTitlebar">
        <button class="popup-close" id="popupClose" type="button" aria-label="Close"></button>
        <div class="popup-title" id="popupTitle">Window</div>
      </div>

      <div class="popup-body" id="popupBody"></div>

      <div class="popup-actions" id="popupActions">
        <div class="popup-caption" id="popupCaption"></div>
        <button class="popup-ok" id="popupOk" type="button">Enter</button>
      </div>
    </div>
  </div>

  <script defer>
    (function () {
      "use strict";

      function $(id) { return document.getElementById(id); }
      function isMobile() { return window.matchMedia && window.matchMedia("(max-width: 768px)").matches; }

      var aboutBtn = $("aboutBtn");
      var findBtn = $("findBtn");
      var searchBarEl = $("searchBar");
      var searchInput = $("searchInput");
      var clockEl = $("menubarClock");

      var popupOverlay = $("popupOverlay");
      var popupWindow = $("popupWindow");
      var popupTitlebar = $("popupTitlebar");
      var popupClose = $("popupClose");
      var popupTitleEl = $("popupTitle");
      var popupBodyEl = $("popupBody");
      var popupCaptionEl = $("popupCaption");
      var popupOkBtn = $("popupOk");

      function renderPopupContent(content) {
        var wrap = document.createElement("div");
        wrap.className = "popup-content";

        (content || []).forEach(function (block, idx) {
          if (!block || !block.type) return;

          if (block.type === "text") {
            var d = document.createElement("div");
            var size = block.size || "md";
            var align = block.align || "left";
            var role = block.role || (idx === 0 ? "title" : "body");

            d.className = "popup-text size-" + size + " align-" + align + " role-" + role;
            d.textContent = block.text || "";
            wrap.appendChild(d);
          }

          if (block.type === "image") {
            var m = document.createElement("div");
            var size2 = block.size || "md";
            m.className = "popup-media size-" + size2;

            var img = document.createElement("img");
            img.src = block.src || "";
            img.alt = block.alt || "";

            if (block.width) img.width = Number(block.width) || img.width;
            if (block.height) img.height = Number(block.height) || img.height;
            if (block.pixelated === false) img.style.imageRendering = "auto";

            m.appendChild(img);
            wrap.appendChild(m);
          }
        });

        return wrap;
      }

      function resetPopupPosition() {
        if (!popupWindow) return;
        popupWindow.style.left = "50%";
        popupWindow.style.top = "50%";
        popupWindow.style.transform = "translate(-50%, -50%)";
      }

      function openPopup(opts) {
        opts = opts || {};
        if (!popupOverlay) return;

        if (!opts.preservePosition) resetPopupPosition();
        if (popupTitleEl) popupTitleEl.textContent = opts.title || "Notice";

        var caption = (opts.caption != null) ? String(opts.caption) : "";
        if (popupCaptionEl) popupCaptionEl.textContent = caption;

        if (popupBodyEl) {
          popupBodyEl.innerHTML = "";
          if (Array.isArray(opts.content)) popupBodyEl.appendChild(renderPopupContent(opts.content));
          else popupBodyEl.textContent = (opts.text != null) ? String(opts.text) : "";
        }

        var hasOk = (opts.okText != null);
        if (popupOkBtn) {
          if (hasOk) {
            popupOkBtn.textContent = String(opts.okText);
            popupOkBtn.style.display = "inline-flex";
          } else {
            popupOkBtn.style.display = "none";
          }
        }
        if (popupWindow) popupWindow.classList.toggle("has-ok", hasOk);

        popupOverlay.classList.add("show");
        popupOverlay.setAttribute("aria-hidden", "false");
      }

      function closePopup() {
        if (!popupOverlay) return;
        popupOverlay.classList.remove("show");
        popupOverlay.setAttribute("aria-hidden", "true");

        // Stop welcome clock updates when the popup closes
        try { if (window.__welcomeClockTimer) { clearInterval(window.__welcomeClockTimer); window.__welcomeClockTimer = null; } } catch (e) {}

        resetPopupPosition();
      }

      window.openPopup = openPopup;
      window.closePopup = closePopup;

      function openAboutPopup() {
        openPopup({
          title: "About",
          okText: "Enter",
          content: [
            { type: "text", role: "title", text: "About This Portfolio", size: "lg", align: "center" },
            {
              type: "text",
              role: "body",
              size: "md",
              align: "left",
              text:
                "This site is a portfolio presented as a classic Macintosh desktop." +
                "Click folders to explore projects and work."
            }
          ]
        });
      }

      if (aboutBtn) aboutBtn.addEventListener("click", function (e) { e.preventDefault(); openAboutPopup(); });

      function showSearch() {
        if (!searchBarEl) return;
        searchBarEl.style.display = "flex";
        if (searchInput) searchInput.focus();
      }
      function hideSearch() {
        if (!searchBarEl) return;
        searchBarEl.style.display = "none";
      }
      function toggleSearch() {
        if (!searchBarEl) return;
        if (searchBarEl.style.display === "flex") hideSearch();
        else showSearch();
      }

      if (findBtn) findBtn.addEventListener("click", function (e) { e.preventDefault(); toggleSearch(); });
      if (searchInput) searchInput.addEventListener("blur", function () { hideSearch(); });

      if (popupClose) popupClose.addEventListener("click", function (e) { e.stopPropagation(); closePopup(); });
      if (popupOkBtn) popupOkBtn.addEventListener("click", function (e) { e.stopPropagation(); closePopup(); });

      if (popupOverlay) {
        popupOverlay.addEventListener("mousedown", function (e) {
          if (e.target === popupOverlay) closePopup();
        });
      }

      (function bindPopupDrag() {
        if (!popupTitlebar || !popupWindow) return;

        var dragging = false;
        var offX = 0;
        var offY = 0;

        popupTitlebar.addEventListener("mousedown", function (e) {
          if (e.target && e.target.closest && e.target.closest("#popupClose")) return;
          e.preventDefault();

          var r = popupWindow.getBoundingClientRect();
          popupWindow.style.left = r.left + "px";
          popupWindow.style.top = r.top + "px";
          popupWindow.style.transform = "none";

          dragging = true;
          offX = e.clientX - r.left;
          offY = e.clientY - r.top;
        });

        document.addEventListener("mousemove", function (e) {
          if (!dragging) return;

          var r = popupWindow.getBoundingClientRect();
          var x = e.clientX - offX;
          var y = e.clientY - offY;

          var margin = 10;
          var maxX = window.innerWidth - r.width - margin;
          var maxY = window.innerHeight - r.height - margin;

          x = Math.max(margin, Math.min(maxX, x));
          y = Math.max(margin, Math.min(maxY, y));

          popupWindow.style.left = x + "px";
          popupWindow.style.top = y + "px";
        });

        document.addEventListener("mouseup", function () { dragging = false; });

        window.addEventListener("resize", function () {
          if (!popupWindow) return;
          if (popupWindow.style.transform && popupWindow.style.transform !== "none") return;

          var r = popupWindow.getBoundingClientRect();
          var margin = 10;
          var x = Math.max(margin, Math.min(window.innerWidth - r.width - margin, r.left));
          var y = Math.max(margin, Math.min(window.innerHeight - r.height - margin, r.top));
          popupWindow.style.left = x + "px";
          popupWindow.style.top = y + "px";
        });
      })();

      (function initClock() {
        if (!clockEl) return;

        function tick() {
          var now = new Date();
          var h = now.getHours();
          var m = now.getMinutes();
          var ampm = h >= 12 ? "PM" : "AM";
          h = h % 12;
          if (h === 0) h = 12;
          var mm = (m < 10 ? "0" + m : "" + m);
          var colon = (now.getSeconds() % 2 === 0) ? ":" : " ";
          clockEl.textContent = "" + h + colon + mm + " " + ampm;
        }

        tick();
        setInterval(tick, 1000);
      })();

      var icons = Array.prototype.slice.call(document.querySelectorAll(".icon"));

      function layoutIcons() {
        if (!icons.length) return;

        var paddingLeft = 10;
        var paddingTop = 10;
        var gapX = 12;
        var gapY = 30;
        var iconW = 99;
        var iconH = 120;

        var x = paddingLeft;
        var y = paddingTop;

        icons.forEach(function (icon) {
          if (x + iconW > window.innerWidth - 10) {
            x = paddingLeft;
            y += iconH + gapY;
          }
          icon.style.left = x + "px";
          icon.style.top = y + "px";
          x += iconW + gapX;
        });
      }

      function clearSelections() { icons.forEach(function (i) { i.classList.remove("selected"); }); }

      var draggingIcon = false;
      var possibleDrag = false;
      var startX = 0, startY = 0;
      var offX2 = 0, offY2 = 0;
      var activeIcon = null;
      var threshold = 5;

      icons.forEach(function (icon) {
        icon.addEventListener("mousedown", function (e) {
          e.preventDefault();

          startX = e.clientX;
          startY = e.clientY;
          activeIcon = icon;
          offX2 = e.clientX - icon.offsetLeft;
          offY2 = e.clientY - icon.offsetTop;

          possibleDrag = true;
          draggingIcon = false;

          clearSelections();
          icon.classList.add("selected");
        });

        icon.addEventListener("click", function (e) {
          e.preventDefault();
          clearSelections();
          icon.classList.add("selected");
        });

        icon.addEventListener("dblclick", function (e) {
          e.preventDefault();

          var href = icon.getAttribute("href");
          if (href && href !== "#") window.location.href = href;
        });
      });

      document.addEventListener("mousemove", function (e) {
        if (!possibleDrag || !activeIcon) return;

        if (!draggingIcon) {
          var dx = e.clientX - startX;
          var dy = e.clientY - startY;
          if (Math.abs(dx) > threshold || Math.abs(dy) > threshold) {
            draggingIcon = true;
            activeIcon.style.zIndex = 1000;
          }
        }

        if (draggingIcon) {
          var x = e.clientX - offX2;
          var y = e.clientY - offY2;
          x = Math.max(0, Math.min(window.innerWidth - activeIcon.offsetWidth, x));
          y = Math.max(0, Math.min(window.innerHeight - activeIcon.offsetHeight, y));
          activeIcon.style.left = x + "px";
          activeIcon.style.top = y + "px";
        }
      });

      document.addEventListener("mouseup", function () {
        possibleDrag = false;
        draggingIcon = false;
        if (activeIcon) activeIcon.style.zIndex = "";
        activeIcon = null;
      });

      document.addEventListener("click", function (e) {
        if (!e.target.closest(".icon")) clearSelections();
      });

      window.addEventListener("resize", function () {
        if (!draggingIcon) layoutIcons();
      });

      layoutIcons();
      window.addEventListener("load", function () {
        layoutIcons();
        requestAnimationFrame(layoutIcons);
      });

      (function maybeWelcome() {
        var page = document.body ? document.body.getAttribute("data-page") : "";
        if (page !== "home") return;

        try {
          if (sessionStorage.getItem("welcomeShown") === "1") return;
          sessionStorage.setItem("welcomeShown", "1");
        } catch (e) {}

        openPopup({
          title: "Loading...",
          okText: "Enter",
          content: [
            { type: "text", role: "title", text: "", size: "xl", align: "center" },
            { type: "image", src: "images/earth.gif", alt: "Welcome", size: "lg" },
            { type: "text", role: "welcome", size: "md", align: "center", text: "Welcome to my portfolio!" },
            { type: "text", role: "body", size: "md", align: "justify-last-left", text: "Here you can find a collection of my work, personal projects, and ideas-in-progress. Feel free to take a look around and see what Iâ€™ve been building. I hope you enjoy your time spent while you're here." }
          ]
        });

        // Wave animation on the welcome line
        try {
          var welcomeLine = popupBodyEl ? popupBodyEl.querySelector(".popup-text.role-welcome") : null;
          if (welcomeLine && !welcomeLine.classList.contains("wave")) {
            var raw = welcomeLine.textContent || "";
            var html = "";
            for (var i = 0; i < raw.length; i++) {
              var ch = raw[i];
              if (ch === " ") {
                html += "&nbsp;";
              } else {
                if (ch === "&") ch = "&amp;";
                else if (ch === "<") ch = "&lt;";
                else if (ch === ">") ch = "&gt;";
                html += '<span style="--i:' + i + '">' + ch + "</span>";
              }
            }
            welcomeLine.innerHTML = html;
            welcomeLine.classList.add("wave");
          }
        } catch (e) {}

        // Live date + time with blinking colon (like the menubar clock)
        try { if (window.__welcomeClockTimer) clearInterval(window.__welcomeClockTimer); } catch (e) {}

        var welcomeTitleEl = popupBodyEl ? popupBodyEl.querySelector(".popup-text.role-title") : null;
        function tickWelcomeTitle() {
          if (!welcomeTitleEl) return;
          var d = new Date();
          var dateStr = d.toLocaleDateString(undefined, { weekday: "long", month: "long", day: "numeric" });

          var h = d.getHours();
          var m = d.getMinutes();
          var ampm = h >= 12 ? "PM" : "AM";
          h = h % 12;
          if (h === 0) h = 12;
          var mm = (m < 10 ? "0" + m : "" + m);
          var colon = (d.getSeconds() % 2 === 0) ? ":" : " ";

          // newline works because .popup-text uses white-space: pre-wrap
          welcomeTitleEl.textContent = dateStr + "\n" + h + colon + mm + " " + ampm;

        }
        tickWelcomeTitle();
        window.__welcomeClockTimer = setInterval(tickWelcomeTitle, 1000);
      })();
    })();
  </script>
</body>
</html>
